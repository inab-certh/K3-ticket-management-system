{% load form_tags %}
<input type="hidden" name="current_step" value="3">
<h4 class="mb-3">Î‘ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÎ® - Î•ÏÎ³Î±ÏƒÎ¹Î±ÎºÎ® ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</h4>

<!-- ğŸ“Œ Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î’Î±ÏƒÎ¹ÎºÏÎ½ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½ -->
<div class="row mb-4">
  <div class="col-md-2">
    <label class="form-label">ID Î©Ï†ÎµÎ»Î¿ÏÎ¼ÎµÎ½Î¿Ï…</label>
    <input type="text" class="form-control" value="{{ beneficiary_id }}" readonly>
  </div>
  <div class="col-md-4">
    <label class="form-label">ÎŒÎ½Î¿Î¼Î±</label>
    <input type="text" class="form-control" value="{{ beneficiary_form.first_name.value }}" readonly>
  </div>
  <div class="col-md-4">
    <label class="form-label">Î•Ï€ÏÎ½Ï…Î¼Î¿</label>
    <input type="text" class="form-control" value="{{ beneficiary_form.last_name.value }}" readonly>
  </div>
</div>

<h5 class="mb-3">Î‘ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÎ® ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</h5>
<div class="row">
  <div class="col-md-4 mb-3">
    <label class="form-label">Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ·</label>
    {{ insurance_form.insurance_status|add_class:"form-select" }}
  </div>
  <div class="col-md-4 mb-3">
    <label class="form-label">Î¦Î¿ÏÎ­Î±Ï‚ Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ·Ï‚</label>
    {{ insurance_form.insurance_provider|add_class:"form-select" }}
  </div>
  <div class="col-md-4 mb-3">
    <label class="form-label">Î•Î¹Î´Î¹ÎºÎ¬ Î¤Î±Î¼ÎµÎ¯Î±</label>
    {{ insurance_form.special_funds|add_class:"form-control" }}
  </div>
</div>


<div class="form-check mb-3">
  {{ insurance_form.widow_pension|add_class:"form-check-input" }}
  <label class="form-check-label" for="{{ insurance_form.widow_pension.id_for_label }}">Î£ÏÎ½Ï„Î±Î¾Î· Î§Î·ÏÎµÎ¯Î±Ï‚</label>
</div>

<div class="form-check mb-3">
  {{ insurance_form.disability_pension|add_class:"form-check-input" }}
  <label class="form-check-label" for="{{ insurance_form.disability_pension.id_for_label }}">Î£ÏÎ½Ï„Î±Î¾Î· Î‘Î½Î±Ï€Î·ÏÎ¯Î±Ï‚</label>
</div>

<!-- âœ… Î•ÏÎ³Î±ÏƒÎ¹Î±ÎºÎ® ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· -->
<div class="row">
  <div class="col-md-4 mb-3">
    <label class="form-label">ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚</label>
    {{ employment_form.employment_status|add_class:"form-select" }}
  </div>
</div>

<!-- Î‘Î½ Î•Î¡Î“Î‘Î–ÎŸÎœÎ•ÎÎŸÎ£ Î® Î£Î¥ÎÎ¤Î‘Î. & Î•Î¡Î“Î‘Î–. -->
<div id="employment-details" style="display: none;">
  <div class="row">
    <div class="col-md-4 mb-3">
      <label class="form-label">Î•Ï€Î¬Î³Î³ÎµÎ»Î¼Î±</label>
      {{ employment_form.job_title|add_class:"form-control" }}
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Î•Î¹Î´Î¹ÎºÏŒÏ„Î·Ï„Î±</label>
      {{ employment_form.specialization|add_class:"form-control" }}
    </div>
    <div class="col-md-4 mb-3">
      <label class="form-label">Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î ÏÏŒÏƒÎ»Î·ÏˆÎ·Ï‚</label>
      {{ employment_form.hire_date|add_class:"form-control" }}
    </div>
  </div>
  <div class="row">
	<div class="col-md-3 mb-4">
      <label class="form-label">Î•ÏÎ³Î±ÏƒÎ¹Î±ÎºÎ® ÏƒÏ‡Î­ÏƒÎ·</label>
      {{ employment_form.employment_type|add_class:"form-select" }}
    </div>
    <div class="col-md-3 mb-4">
      <label class="form-label">ÎœÎ¿ÏÏ†Î® Î‘Ï€Î±ÏƒÏ‡ÏŒÎ»Î·ÏƒÎ·Ï‚</label>
      {{ employment_form.work_schedule|add_class:"form-select" }}
    </div>
    <div class="col-md-3 mb-4">
      <label class="form-label">Î•Î¯Î´Î¿Ï‚ Î£ÏÎ¼Î²Î±ÏƒÎ·Ï‚</label>
      {{ employment_form.contract_type|add_class:"form-select" }}
    </div>
    <div class="col-md-3 mb-4">
      <label class="form-label">ÎÎ¿Î¼Î¹ÎºÎ® ÎœÎ¿ÏÏ†Î® Î•ÏÎ³Î¿Î´ÏŒÏ„Î·</label>
      {{ employment_form.employer_legal_form|add_class:"form-control" }}
    </div>
  </div>
</div>

<!-- Î‘Î½ Î‘ÎÎ•Î¡Î“ÎŸÎ£ -->
<div id="unemployment-details" style="display: none;">
  <div class="row">
    <div class="col-md-4 mb-3">
      <label class="form-label">Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î•Î³Î³ÏÎ±Ï†Î®Ï‚</label>
      {{ employment_form.registration_date|add_class:"form-control" }}
    </div>
	<div class="col-md-4 mb-3">
      <label class="form-label">ÎšÎ¬ÏÏ„Î± Î‘Î½ÎµÏÎ³Î¯Î±Ï‚</label>
      {{ employment_form.unemployment_card|add_class:"form-check-input" }}
    </div>
  </div>
</div>

<hr class="my-4">



<script>
function toggleEmploymentFields() {
  const status = document.getElementById("id_employment_status").value;
  const empFields = document.getElementById("employment-details");
  const unempFields = document.getElementById("unemployment-details");

  empFields.style.display = ["employed", "retired_employed"].includes(status) ? "block" : "none";
  unempFields.style.display = status === "unemployed" ? "block" : "none";
}

document.addEventListener("DOMContentLoaded", function () {
  toggleEmploymentFields();
  document.getElementById("id_employment_status").addEventListener("change", toggleEmploymentFields);
});
</script>
